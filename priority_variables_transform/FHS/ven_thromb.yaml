#pulmonary embolism
class_derivations:
  Condition:
    populated_from: pht006005
    slot_derivations:
      associated_participant:
        populated_from: phv00273700
      associated_visit:
        expr: '''FHS NEW OFFSPRING SPOUSE EXAM 1'''
      condition_concept:
        expr: "'MONDO:0005279'"   #pulmonary embolism
      condition_status:
        populated_from: phv00273899 # pulmonary embolus (blood clot in lungs)
        value_mappings:
          '0': 'ABSENT'
          '2': 'UNKNOWN'
      condition_provenance:
        expr: "'PATIENT_SELF-REPORTED_CONDITION'"
      relationship_to_participant:
        expr: "'ONESELF'"
class_derivations:
  Condition:
    populated_from: pht000692
    slot_derivations:
      associated_participant:
        populated_from: phv00070736
      associated_visit:
        expr: '''FHS ORIGINAL EXAM 28'''   
      condition_concept:
        expr: "'MONDO:0005279'"   #pulmonary embolism
      condition_status:
        populated_from: phv00070487 # pulmonary embolus (blood clot in lungs)
        value_mappings:
          '0': 'ABSENT'
      condition_provenance:
        expr: "'PATIENT_SELF-REPORTED_CONDITION'"
      relationship_to_participant:
        expr: "'ONESELF'"
class_derivations:
  Condition:
    populated_from: pht000074
    slot_derivations:
      associated_participant:
        populated_from: phv00021427
      associated_visit:
        expr: '''FHS GENERATION 3 EXAM 1'''       
      condition_concept:
        expr: "'MONDO:0005279'"   #pulmonary embolism
      condition_status:
        populated_from: phv00021066 # pulmonary embolus (blood clot in lungs)
        value_mappings:
          '0': 'ABSENT'
          '1': 'PRESENT'
          '2': 'UNKNOWN'
      condition_provenance:
        expr: "'PATIENT_SELF-REPORTED_CONDITION'"
      relationship_to_participant:
        expr: "'ONESELF'"
class_derivations:
  Condition:
    populated_from: pht000744
    slot_derivations:
      associated_participant:
        populated_from: phv00071949
      associated_visit:
        expr: '''FHS DVT ORIGINAL, OFFSPRING, NEW OFFSPRING SPOUSE, GENERATION 3, OMNI1, OMNI2'''           
      condition_concept:
        expr: "'MONDO:0005279'"   #pulmonary embolism
      condition_status:
        populated_from: phv00071923 # PE by Pulmonary arteriogram, CTPA, or MRI
        value_mappings:
          'PE by pulmonary arteriogram, CTPA, or MRI': 'PRESENT'  #condition is present if source data string var has this value
      condition_provenance:
        expr: '''CLINICAL_DIAGNOSIS'''
      relationship_to_participant:
        expr: "'ONESELF'"        
class_derivations:
  Condition:
    populated_from: pht000744
    slot_derivations:
      associated_participant:
        populated_from: phv00071949
      associated_visit:
        expr: '''FHS DVT ORIGINAL, OFFSPRING, NEW OFFSPRING SPOUSE, GENERATION 3, OMNI1, OMNI2'''     
      condition_concept:
        expr: "'MONDO:0005279'"   #pulmonary embolism
      condition_status:
        populated_from: phv00071924 # PE by history and high probability ventilation/perfusion (V/Q) Scan
        value_mappings:
          'PE by history and high probability ventilation/perfusion (V/Q) Scan': 'PRESENT'  #condition is present if source data string var has this value
      condition_provenance:
        expr: '''CLINICAL_DIAGNOSIS'''
      relationship_to_participant:
        expr: "'ONESELF'"        
class_derivations:
  Condition:
    populated_from: pht000744
    slot_derivations:
      associated_participant:
        populated_from: phv00071949
      associated_visit:
        expr: '''FHS DVT ORIGINAL, OFFSPRING, NEW OFFSPRING SPOUSE, GENERATION 3, OMNI1, OMNI2'''      
      condition_concept:
        expr: "'MONDO:0005279'"   #pulmonary embolism
      condition_status:
        populated_from: phv00071925 #PE by clinical high suspicion & documented source of PE (DVT) 
        value_mappings:
          'PE by clinical high suspicion & documented source of PE (DVT)': 'PRESENT'  #condition is present if source data string var has this value
      condition_provenance:
        expr: '''CLINICAL_DIAGNOSIS'''
      relationship_to_participant:
        expr: "'ONESELF'"        
class_derivations:
  Condition:
    populated_from: pht000744
    slot_derivations:
      associated_participant:
        populated_from: phv00071949
      associated_visit:
        expr: '''FHS DVT ORIGINAL, OFFSPRING, NEW OFFSPRING SPOUSE, GENERATION 3, OMNI1, OMNI2'''    
      condition_concept:
        expr: "'MONDO:0005279'"   #pulmonary embolism
      condition_status:
        populated_from: phv00071926 # PE by autopsy
        value_mappings:
          'PE by autopsy': 'PRESENT'  #condition is present if source data string var has this value
      condition_provenance:
        expr: '''CLINICAL_DIAGNOSIS'''
      relationship_to_participant:
        expr: "'ONESELF'"        
class_derivations:
  Condition:
    populated_from: pht000744
    slot_derivations:
      associated_participant:
        populated_from: phv00071949
      associated_visit:
        expr: '''FHS DVT ORIGINAL, OFFSPRING, NEW OFFSPRING SPOUSE, GENERATION 3, OMNI1, OMNI2'''      
      condition_concept:
        expr: "'MONDO:0005279'"   #pulmonary embolism
      condition_status:
        populated_from: phv00071928 # No PE
        value_mappings:
          'No PE': 'ABSENT'  
      condition_provenance:
        expr: '''CLINICAL_DIAGNOSIS'''
      relationship_to_participant:
        expr: "'ONESELF'"        
class_derivations:
  Condition:
    populated_from: pht000744
    slot_derivations:
      associated_participant:
        populated_from: phv00071949
      associated_visit:
        expr: '''FHS DVT ORIGINAL, OFFSPRING, NEW OFFSPRING SPOUSE, GENERATION 3, OMNI1, OMNI2'''     
      condition_concept:
        expr: "'MONDO:0005279'"   #pulmonary embolism
      condition_status:
        populated_from: phv00071929 # Maybe PE
        value_mappings:
          'Maybe PE': 'UNKNOWN'  
      condition_provenance:
        expr: '''CLINICAL_DIAGNOSIS'''
      relationship_to_participant:
        expr: "'ONESELF'"
# venous thrombosis
class_derivations:
  Condition:
    populated_from: pht006005
    slot_derivations:
      associated_participant:
        populated_from: phv00273700
      associated_visit:
        expr: '''FHS NEW OFFSPRING SPOUSE EXAM 1'''    
      condition_concept:
        expr: "'MONDO:0005399'"   #venous thromboembolism
      condition_status:
        populated_from: phv00273898 # deep vein thrombosis
        value_mappings:
          '0': 'ABSENT'
          '2': 'UNKNOWN'
      condition_provenance:
        expr: "'PATIENT_SELF-REPORTED_CONDITION'"
      relationship_to_participant:
        expr: "'ONESELF'"
class_derivations:
  Condition:
    populated_from: pht000028
    slot_derivations:
      associated_participant:
        populated_from: phv00007095
      associated_visit:
        expr: '''FHS ORIGINAL EXAM 26'''       
      condition_concept:
        expr: "'MONDO:0005399'"   #venous thromboembolism
      condition_status:
        populated_from: phv00007028 # deep vein thrombosis
        value_mappings:
          '0': 'ABSENT'
          '1': 'PRESENT'
      condition_provenance:
        expr: "'PATIENT_SELF-REPORTED_CONDITION'"
      relationship_to_participant:
        expr: "'ONESELF'"
class_derivations:
  Condition:
    populated_from: pht000029
    slot_derivations:
      associated_participant:
        populated_from: phv00007534
      associated_visit:
        expr: '''FHS ORIGINAL EXAM 27'''     
      condition_concept:
        expr: "'MONDO:0005399'"   #venous thromboembolism
      condition_status:
        populated_from: phv00007461 # deep vein thrombosis
        value_mappings:
          '0': 'ABSENT'
          '1': 'PRESENT'
      condition_provenance:
        expr: "'PATIENT_SELF-REPORTED_CONDITION'"
      relationship_to_participant:
        expr: "'ONESELF'"
class_derivations:
  Condition:
    populated_from: pht000692
    slot_derivations:
      associated_participant:
        populated_from: phv00070736
      associated_visit:
        expr: '''FHS ORIGINAL EXAM 28'''     
      condition_concept:
        expr: "'MONDO:0005399'"   #venous thromboembolism
      condition_status:
        populated_from: phv00070486 # deep vein thrombosis
        value_mappings:
          '0': 'ABSENT'
          '1': 'PRESENT'
      condition_provenance:
        expr: "'PATIENT_SELF-REPORTED_CONDITION'"
      relationship_to_participant:
        expr: "'ONESELF'"        
class_derivations:
  Condition:
    populated_from: pht000036
    slot_derivations:
      associated_participant:
        populated_from: phv00010694
      associated_visit:
        expr: '''FHS OFFSPRING EXAM 7'''     
      condition_concept:
        expr: "'MONDO:0005399'"   #venous thromboembolism
      condition_status:
        populated_from: phv00010342 # deep vein thrombosis
        value_mappings:
          '0': 'ABSENT'
          '1': 'PRESENT'
      condition_provenance:
        expr: "'PATIENT_SELF-REPORTED_CONDITION'"
      relationship_to_participant:
        expr: "'ONESELF'"   
class_derivations:
  Condition:
    populated_from: pht000036
    slot_derivations:
      associated_participant:
        populated_from: phv00010694
      associated_visit:
        expr: '''FHS OFFSPRING EXAM 7'''    
      condition_concept:
        expr: "'MONDO:0005399'"   #venous thromboembolism
      condition_status:
        populated_from: phv00010343 # deep vein thrombosis
        value_mappings:
          '0': 'ABSENT'
          '1': 'PRESENT'
      condition_provenance:
        expr: "'PATIENT_SELF-REPORTED_CONDITION'"
      relationship_to_participant:
        expr: "'ONESELF'"   
class_derivations:
  Condition:
    populated_from: pht000036
    slot_derivations:
      associated_participant:
        populated_from: phv00010694
      associated_visit:
        expr: '''FHS OFFSPRING EXAM 7'''        
      condition_concept:
        expr: "'MONDO:0005399'"   #venous thromboembolism
      condition_status:
        populated_from: phv00010478 # deep vein thrombosis
        value_mappings:
          '0': 'ABSENT'
          '1': 'PRESENT'
          '2': 'UNKNOWN'
      condition_provenance:
        expr: "'PATIENT_SELF-REPORTED_CONDITION'"
      relationship_to_participant:
        expr: "'ONESELF'"
class_derivations:
  Condition:
    populated_from: pht000074 
    slot_derivations:
      associated_participant:
        populated_from: phv00021427
      associated_visit:
        expr: '''FHS GENERATION 3 EXAM 1'''      
      condition_concept:
        expr: "'MONDO:0005399'"   #venous thromboembolism
      condition_status:
        populated_from: phv00021065 # deep vein thrombosis
        value_mappings:
          '0': 'ABSENT'
          '1': 'PRESENT'
          '2': 'UNKNOWN'
      condition_provenance:
        expr: "'PATIENT_SELF-REPORTED_CONDITION'"
      relationship_to_participant:
        expr: "'ONESELF'"  
class_derivations:
  Condition:
    populated_from: pht000744
    slot_derivations:
      associated_participant:
        populated_from: phv00071949
      associated_visit:
        expr: '''FHS DVT ORIGINAL, OFFSPRING, NEW OFFSPRING SPOUSE, GENERATION 3, OMNI1, OMNI2'''  
      condition_concept:
        expr: "'MONDO:0005399'"   #venous thromboembolism
      condition_status:
        populated_from: phv00071915 # DVT: Venogram: Result
        value_mappings:
          '0': 'ABSENT'
          '1': 'PRESENT'
          '2': 'UNKNOWN'
      condition_provenance:
        expr: '''CLINICAL_DIAGNOSIS'''
      relationship_to_participant:
        expr: "'ONESELF'" 
class_derivations:
  Condition:
    populated_from: pht000744
    slot_derivations:
      associated_participant:
        populated_from: phv00071949
      associated_visit:
        expr: '''FHS DVT ORIGINAL, OFFSPRING, NEW OFFSPRING SPOUSE, GENERATION 3, OMNI1, OMNI2'''  
      condition_concept:
        expr: "'MONDO:0005399'"   #venous thromboembolism
      condition_status:
        populated_from: phv00071917 # DVT: Doppler ultrasound: Result
        value_mappings:
          '0': 'ABSENT'
          '1': 'PRESENT'
          '2': 'UNKNOWN'
      condition_provenance:
        expr: '''CLINICAL_DIAGNOSIS''' # observation recorded from EHR
      relationship_to_participant:
        expr: "'ONESELF'" 
class_derivations:
  Condition:
    populated_from: pht000744
    slot_derivations:
      associated_participant:
        populated_from: phv00071949
      associated_visit:
        expr: '''FHS DVT ORIGINAL, OFFSPRING, NEW OFFSPRING SPOUSE, GENERATION 3, OMNI1, OMNI2'''  
      condition_concept:
        expr: "'MONDO:0005399'"   #venous thromboembolism
      condition_status:
        populated_from: phv00071919 # DVT: Impedance plethysmography: Result
        value_mappings:
          '0': 'ABSENT'
          '1': 'PRESENT'
          '2': 'UNKNOWN'
      condition_provenance:
        expr: '''CLINICAL_DIAGNOSIS'''
      relationship_to_participant:
        expr: "'ONESELF'" 
class_derivations:
  Condition:
    populated_from: pht000744
    slot_derivations:
      associated_participant:
        populated_from: phv00071949
      associated_visit:
        expr: '''FHS DVT ORIGINAL, OFFSPRING, NEW OFFSPRING SPOUSE, GENERATION 3, OMNI1, OMNI2'''  
      condition_concept:
        expr: "'MONDO:0005399'"   #venous thromboembolism
      condition_status:
        populated_from: phv00071934  # DVT: CT: Result
        value_mappings:
          '0': 'ABSENT'
          '1': 'PRESENT'
          '2': 'UNKNOWN'
      condition_provenance:
        expr: '''CLINICAL_DIAGNOSIS'''
      relationship_to_participant:
        expr: "'ONESELF'" 
class_derivations:
  Condition:
    populated_from: pht000744
    slot_derivations:
      associated_participant:
        populated_from: phv00071949
      associated_visit:
        expr: '''FHS DVT ORIGINAL, OFFSPRING, NEW OFFSPRING SPOUSE, GENERATION 3, OMNI1, OMNI2'''  
      condition_concept:
        expr: "'MONDO:0005399'"   #venous thromboembolism
      condition_status:
        populated_from: phv00071930 # DVT Final Diagnostic Summary: DVT
        value_mappings:
          'DVT': 'PRESENT'  
      condition_provenance:
        expr: '''CLINICAL_DIAGNOSIS'''
      relationship_to_participant:
        expr: "'ONESELF'"         
class_derivations:
  Condition:
    populated_from: pht000744
    slot_derivations:
      associated_participant:
        populated_from: phv00071949
      associated_visit:
        expr: '''FHS DVT ORIGINAL, OFFSPRING, NEW OFFSPRING SPOUSE, GENERATION 3, OMNI1, OMNI2'''  
      condition_concept:
        expr: "'MONDO:0005399'"   #venous thromboembolism
      condition_status:
        populated_from: phv00071932 # DVT Final Diagnostic Summary: No DVT
        value_mappings:
          'No DVT': 'ABSENT'  
      condition_provenance:
        expr: '''CLINICAL_DIAGNOSIS'''
      relationship_to_participant:
        expr: "'ONESELF'"         
class_derivations:
  Condition:
    populated_from: pht000744
    slot_derivations:
      associated_participant:
        populated_from: phv00071949
      associated_visit:
        expr: '''FHS DVT ORIGINAL, OFFSPRING, NEW OFFSPRING SPOUSE, GENERATION 3, OMNI1, OMNI2''' 
      condition_concept:
        expr: "'MONDO:0005399'"   #venous thromboembolism
      condition_status:
        populated_from: phv00071933 # DVT Final Diagnostic Summary: Maybe DVT
        value_mappings:
          'Maybe DVT': 'UNKNOWN'  
      condition_provenance:
        expr: '''CLINICAL_DIAGNOSIS'''
class_derivations:
  Condition:
    populated_from: FHS
    slot_derivations:
      condition_concept:
        expr: "'MONDO:0005399'"   #venous thromboembolism
      condition_status:
        populated_from: phv00460988 # Have you ever had a deep vein thrombosis
        value_mappings:
          '0': 'ABSENT'
          '1': 'PRESENT'
          '2': 'UNKNOWN'
      condition_provenance:
        expr: "'PATIENT_SELF-REPORTED_CONDITION'"
      relationship_to_participant:
        expr: "'ONESELF'"
class_derivations:
  Condition:
    populated_from: FHS
    slot_derivations:
      condition_concept:
        expr: "'MONDO:0005399'"   #venous thromboembolism
      condition_status:
        populated_from: phv00461918 # Since your last provided medical information have you had: Deep vein thrombosis - DVT
        value_mappings:
          '0': 'ABSENT'
          '1': 'PRESENT'
          '2': 'UNKNOWN'
      condition_provenance:
        expr: "'PATIENT_SELF-REPORTED_CONDITION'"
      relationship_to_participant:
        expr: "'ONESELF'"



# venogram
class_derivations:
  Procedure:
    populated_from: FHS
    slot_derivations:
      procedure_concept:
        expr: "'OMOP:4175809'" #Venography
      procedure_provenance: 
        expr: "'OMOP:4822126'" #observation recorded from EHR 
      value_mappings:
        '8': 'ABSENT' #possible values in source data are Positive / Negative / Maybe / Test not done
        '0': 'PRESENT'
        '1': 'PRESENT'
        '2': 'PRESENT'

# doppler ultrasound
class_derivations:
  Procedure:
    populated_from: FHS
    slot_derivations:
      procedure_concept:
        expr: "'OMOP:35622931'" #doppler ultrasound
      procedure_provenance: 
        expr: "'OMOP:4822126'" #observation recorded from EHR 
      value_mappings:
        '8': 'ABSENT' #possible values in source data are Positive / Negative / Maybe / Test not done
        '0': 'PRESENT'
        '1': 'PRESENT'
        '2': 'PRESENT'

# Impedance plethysmography
class_derivations:
  Procedure:
    populated_from: FHS
    slot_derivations:
      procedure_concept:
        expr: "'OMOP:4098516'" #Impedance plethysmography
      procedure_provenance: 
        expr: "'OMOP:4822126'" #observation recorded from EHR 
      value_mappings:
        '8': 'ABSENT' #possible values in source data are Positive / Negative / Maybe / Test not done
        '1': 'PRESENT'

